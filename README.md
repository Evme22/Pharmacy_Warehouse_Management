# Pharmacy Warehouse Management System

## Содержание
- [Описание проекта](#описание-проекта)
- [Функциональность](#функциональность)
- [Архитектура проекта](#архитектура-проекта)
- [Структура проекта](#структура-проекта)
- [Как развернуть проект](#как-развернуть-проект)
- [Примеры интерфейса](#примеры-интерфейса)
- [Результаты](#результаты)

---

## Описание проекта
Разработанная информационная система аптечного склада охватывает ключевые процессы логистики, хранения и управления медикаментами. Склад в данной архитектуре выступает как промежуточное звено между поставщиками и филиалами аптек, расположенными в различных городах. Система ведёт учёт остатков, контролирует поставки и хранит информацию о препаратах, их медицинских группах, производителях, поставщиках, сотрудниках и их должностях.

Проект реализует облегчённую версию системы управления аптечным складом с акцентом на продуманную архитектуру базы данных, автоматизацию рутинных операций с помощью хранимых процедур и триггеров, а также предоставляет удобный и минималистичный веб-интерфейс, разработанный на Flask. Интерфейс ориентирован на разные роли пользователей (администратор, директор, кладовщик) и позволяет выполнять аналитику, и просматривать данные в реальном времени.

---

## Функциональность
- Хранение и управление данными: медикаменты, производители, группы препаратов, поставщики, склады, аптеки, сотрудники, города, поставки и остатки.
- Бизнес-логика на стороне БД: реализована с помощью SQL-запросов, хранимых процедур и триггеров.
- Ролевая модель доступа: система различает три типа пользователей - администратор, директор, кладовщик - с разграничением прав и возможностей.
- Удобный интерфейс: отображает только те таблицы и функции, которые доступны в соответствии с ролью пользователя.
- Вызов процедур через формы: интерфейс поддерживает передачу параметров и отображение результатов выполнения хранимых процедур.
- Визуальная аналитика: встроенные графики и диаграммы позволяют анализировать динамику поставок, структуру ассортимента прямо в интерфейсе.
- Обработка ошибок: отклик на неверно введенные данные.

---

## Архитектура проекта
- **Backend**: Flask + mysql.connector
- **Frontend**: HTML + Jinja2 + Chart.js + Bootstrap
- **Database**: MySQL 
- **Хранимые процедуры**: 10 реализованных процедур
- **Права доступа**: разграничены по ролям

---

## Структура проекта
```text
Pharmacy_Warehouse_Management/
│
├── database/              → SQL-скрипты для создания базы, процедур и триггеров
│   ├── create_schema.sql         # Структура таблиц и связей
│   ├── insert_data.sql           # Наполнение базы тестовыми данными
│   ├── procedures.sql            # Хранимые процедуры
│   ├── triggers.sql              # Триггеры
│   ├── user_roles.sql            # Создание пользователей и прав доступа
│   └── queries.sql               # Примеры аналитических SQL-запросов
│
├── er_diagram/
│   └── er_diagram.png            # ER-диаграмма (структура базы)
│
├── app/                          → Веб-приложение на Flask
│   ├── app.py                    # Точка входа в приложение
│   ├── db.py                     # Работа с подключением к БД
│   ├── .env.example              # Пример .env файла для конфигурации
│   ├── templates/                # HTML-шаблоны (Jinja2)
│   │   ├── layout.html           # Базовый шаблон
│   │   ├── index.html            # Главная страница
│   │   ├── procedures.html       # Интерфейс для вызова процедур
│   │   └── analytics.html        # Визуализация данных
│   └── static/                   # CSS, JS, изображения (если есть)
│
├── requirements.txt              # Зависимости проекта
└── README.md                     # Документация и описание проекта
```

---

## Как развернуть проект
### Шаги по установке
1. Клонируйте репозиторий.
2. Разверните базу данных:  
Создайте новую базу данных. Последовательно выполните SQL-скрипты из папки database/:
- create_schema.sql — создание таблиц и связей
- insert_data.sql — наполнение базы тестовыми данными
- procedures.sql — хранимые процедуры
- triggers.sql — триггеры
- user_roles.sql — создание пользователей и прав доступа (опционально)
- queries.sql — примеры аналитических запросов (опционально)  
Это можно сделать через любой SQL-клиент (DBeaver, MySQL Workbench, и др.).
3. Настройте переменные окружения в файле .env в соответствии с параметрами подключения к БД.
4. Установите зависимости/библиотеки в среде Pycharm (или любой другой среде, в которой вы работаете)
5. Запустите приложение:  
Запуск файла papp.py. По умолчанию приложение будет доступно по адресу: http://127.0.0.1:5000/.

---

## Примеры интерфейса
### Страница входа
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/17fdf6f3-273d-4acc-89e6-1ec9ce72eb3a" />

### Главная страница интерфейса (для пользователя администратор)
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/aa0bfbc9-c09c-4dfd-8abd-107824cd9abc" />

### Пример открытия таблицы "Остатки на складе"
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/b285f1ad-6ab2-4bdb-b1ab-a20f0c2c16b3" />

### Страница с выбором вызова хранимой процедуры
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/2ae5194f-8a9e-469f-8c10-2515311d75c3" />

### Результат вызова хранимой процедуры "Поставленные препараты в аптеку"
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/7147532b-f5e9-489e-b865-7586c123f319" />

### Страница с аналитикой
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/1b77db96-849a-46da-ae85-5a3b43aa0fd9" />

---

## Результаты
В ходе выполнения работы была создана информационная система, которая помогает организовать работу аптечного склада. Главная цель заключалась проектировании и реализации базы данных, в которой можно учитывать поступление медикаментов от поставщиков, их хранение на складах и дальнейшую отправку в аптеки.

Созданная система охватывает все процессы от учета поставок до контроля остатков на складе. В системе хранится информация о поставщиках, сотрудниках склада, аптеках, складах и городах, в которых они находятся, препаратах и их медицинских группах, о поставках. 

При проектировании БД использовалась нормализация, и все таблицы приведены к третьей нормальной форме. Кроме хранения информации, система позволяет выполнять запросы, такие как, например, находить популярные препараты. Также были реализованы хранимые процедуры и триггеры, которые помогают автоматизировать логику работы с данными. В системе предусмотрены роли пользователей с разными правами доступа. Кладовщик может работать только с поставками и остатками, директор с поставщиками, а администратор может управлять всей системой.

На основе базы данных был разработан простой и удобный веб-интерфейс. Он позволяет заходить в систему под своей ролью, работать с таблицами, вызывать хранимые процедуры и просматривать аналитические графики. 

Таким образом, была разработана полноценная система, которая может использоваться для управления аптечным складом. 


